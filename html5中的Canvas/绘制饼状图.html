<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <canvas id="canvas" width="800" height="600"></canvas>
    <script type="text/javascript">
      var canvas = document.getElementById("canvas");
      var ctx = canvas.getContext("2d");
      var nums = [26,15,12,5,25,17];
      var colors = ["#983335","#77963f","#5d437c","#35859f","#d1702f","#365e96"];
      var start = 0;
      var end = 0;
      ctx.translate(400,350);
      //绘制圆饼
      function pieChart(){
        for (var i = 0;i < nums.length; i ++){
          ctx.beginPath();
          ctx.moveTo(0,0);
          end += nums[i]/50*Math.PI;//终止角度
          ctx.strokeStyle = "white";
          ctx.fillStyle = colors[i];
          ctx.arc(0,0,200,start,end);
          ctx.fill();
          ctx.closePath();
          ctx.stroke();
          start += nums[i]/50*Math.PI;//起始角度
        }
      }
      //绘制圆饼上的数值
      function pieNum(){
        for (var i = 0;i < nums.length; i ++){
          start = nums[i]/50*Math.PI/2;
          ctx.rotate(end+start);//旋转数值
          ctx.font = "25px scans-serif";
          ctx.fillStyle = "#ffffff";
          ctx.fillText(nums[i]+"%",140,0);
          end = nums[i]/50*Math.PI/2;
        }
      }
      ctx.rotate(-Math.PI/6);//旋转一定角度更加自然
      pieChart();
      pieNum();
   </script>
  </body>
</html>
